# =============================================================================
# Samba — Share Definitions
# Customize share names, paths, and access permissions below.
# =============================================================================

[global]
   # Server identity
   workgroup = WORKGROUP
   server string = Superbox NAS
   netbios name = SUPERBOX

   # Security settings
   security = user
   map to guest = Bad User
   guest account = nobody

   # Performance tuning
   socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=131072 SO_SNDBUF=131072
   read raw = yes
   write raw = yes
   oplocks = yes
   max xmit = 65535
   dead time = 15
   getwd cache = yes

   # Logging (minimal)
   log level = 1
   log file = /var/log/samba/log.%m
   max log size = 1000

   # Protocol versions (SMB 2.1+, no SMBv1)
   server min protocol = SMB2
   server max protocol = SMB3

   # Disable printer sharing
   load printers = no
   printing = bsd
   printcap name = /dev/null
   disable spoolss = yes

# ---------------------------------------------------------------------------
# Shares
# ---------------------------------------------------------------------------

# Public share — accessible to all local network users (no password)
[public]
   comment = Public Files
   path = /shares/public
   browseable = yes
   writable = yes
   guest ok = yes
   create mask = 0664
   directory mask = 0775

# Private share — requires Samba user authentication
[private]
   comment = Private Files
   path = /shares/private
   browseable = yes
   writable = yes
   guest ok = no
   valid users = @users
   create mask = 0660
   directory mask = 0770

# Backups share — readable by authenticated users, writable by admins
[backups]
   comment = Backups
   path = /shares/backups
   browseable = yes
   writable = no
   write list = @admins
   guest ok = no
   valid users = @users @admins
   create mask = 0640
   directory mask = 0750
